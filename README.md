---
title: TextLens - AI-Powered OCR
emoji: üîç
colorFrom: blue
colorTo: purple
sdk: gradio
sdk_version: 4.0.0
app_file: app.py
pinned: false
license: mit
---

# üîç TextLens - AI-Powered OCR

[![Deploy to HuggingFace](https://img.shields.io/badge/ü§ó-Deploy%20to%20Spaces-blue)](https://huggingface.co/spaces/GoConqurer/textlens-ocr)
[![GitHub](https://img.shields.io/badge/GitHub-Repository-green)](https://github.com/KumarAmrit30/textlens-ocr)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)

A state-of-the-art Vision-Language Model (VLM) based OCR application that extracts text from images using Microsoft Florence-2 with intelligent fallback systems and enterprise-grade zero downtime deployment.

## üöÄ Live Demo

**üîó Try it now:** [https://huggingface.co/spaces/GoConqurer/textlens-ocr](https://huggingface.co/spaces/GoConqurer/textlens-ocr)

![TextLens Demo](https://img.shields.io/badge/Demo-Live-brightgreen)

## ‚ú® Key Features

### ü§ñ Advanced AI-Powered OCR

- **Microsoft Florence-2 VLM**: State-of-the-art vision-language model for text extraction
- **Intelligent Fallback System**: Automatic fallback to EasyOCR if primary model fails
- **Multi-Model Support**: Florence-2-base and Florence-2-large variants
- **Real-time Processing**: Instant text extraction on image upload

### üé® Modern User Experience

- **Clean UI**: Professional Gradio interface with intuitive design
- **Multiple Input Methods**: Upload files, use webcam, or paste from clipboard
- **Copy-to-Clipboard**: One-click text copying functionality
- **Responsive Design**: Works seamlessly on desktop and mobile devices
- **Dark/Light Theme**: Automatic theme adaptation

### ‚ö° Performance & Reliability

- **GPU Acceleration**: Supports CUDA, MPS (Apple Silicon), and CPU inference
- **Smart Device Detection**: Automatically uses best available hardware
- **Error Resilience**: Robust error handling with graceful degradation
- **Memory Optimization**: Efficient model loading and cleanup

### üõ°Ô∏è Enterprise Features

- **Zero Downtime Deployment**: Blue-green deployment with health checks
- **Health Monitoring**: Built-in `/health` and `/ready` endpoints
- **Graceful Shutdown**: Signal handling for clean application restarts
- **Production Ready**: Scalable architecture with automated deployment

## üèóÔ∏è Architecture

```
textlens-ocr/
‚îú‚îÄ‚îÄ üì± Frontend (Gradio UI)
‚îÇ   ‚îú‚îÄ‚îÄ ui/interface.py      # Main interface components
‚îÇ   ‚îú‚îÄ‚îÄ ui/handlers.py       # Event handlers & logic
‚îÇ   ‚îî‚îÄ‚îÄ ui/styles.py         # CSS styling & themes
‚îú‚îÄ‚îÄ üß† AI Models
‚îÇ   ‚îî‚îÄ‚îÄ models/ocr_processor.py  # OCR engine with fallbacks
‚îú‚îÄ‚îÄ üîß Utilities
‚îÇ   ‚îî‚îÄ‚îÄ utils/image_utils.py     # Image preprocessing
‚îú‚îÄ‚îÄ üöÄ Deployment
‚îÇ   ‚îú‚îÄ‚îÄ .github/workflows/       # CI/CD pipelines
‚îÇ   ‚îú‚îÄ‚îÄ scripts/deploy.py        # Manual deployment tools
‚îÇ   ‚îî‚îÄ‚îÄ deployment.config.yml    # Deployment configuration
‚îú‚îÄ‚îÄ üìö Documentation
‚îÇ   ‚îú‚îÄ‚îÄ README.md               # Main documentation
‚îÇ   ‚îî‚îÄ‚îÄ DEPLOYMENT.md           # Deployment guide
‚îî‚îÄ‚îÄ ‚öôÔ∏è Configuration
    ‚îú‚îÄ‚îÄ app.py                  # Main application entry
    ‚îî‚îÄ‚îÄ requirements.txt        # Dependencies
```

## üöÄ Quick Start

### üåê Online (Recommended)

**Instant access** - No installation required:
üëâ [**Launch TextLens**](https://huggingface.co/spaces/GoConqurer/textlens-ocr)

### üíª Local Development

1. **Clone Repository**

   ```bash
   git clone https://github.com/KumarAmrit30/textlens-ocr.git
   cd textlens-ocr
   ```

2. **Setup Environment**

   ```bash
   python -m venv textlens_env
   source textlens_env/bin/activate  # Windows: textlens_env\Scripts\activate
   pip install -r requirements.txt
   ```

3. **Launch Application**
   ```bash
   python app.py
   ```
   üåê Open: `http://localhost:7860`

### üß™ Quick Test

```bash
# Verify installation
python -c "from models.ocr_processor import OCRProcessor; print('‚úÖ TextLens ready!')"
```

## üìä Model Performance

| Model                | Size  | Speed     | Accuracy     | Best For               |
| -------------------- | ----- | --------- | ------------ | ---------------------- |
| **Florence-2-base**  | 270M  | ‚ö° Fast   | üìà High      | General OCR, Real-time |
| **Florence-2-large** | 770M  | üêå Medium | üìä Very High | High accuracy needs    |
| **EasyOCR**          | ~100M | üöÄ Medium | üìã Good      | Fallback, Multilingual |

## üéØ Supported Use Cases

| Category            | Examples                        | Performance |
| ------------------- | ------------------------------- | ----------- |
| üìÑ **Documents**    | PDFs, Scanned papers, Forms     | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê  |
| üßæ **Receipts**     | Shopping receipts, Invoices     | ‚≠ê‚≠ê‚≠ê‚≠ê    |
| üì± **Screenshots**  | App interfaces, Error messages  | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê  |
| üöó **Vehicle**      | License plates, VIN numbers     | ‚≠ê‚≠ê‚≠ê‚≠ê    |
| üìö **Books**        | Printed text, Handwritten notes | ‚≠ê‚≠ê‚≠ê‚≠ê    |
| üåê **Multilingual** | Multiple languages              | ‚≠ê‚≠ê‚≠ê      |

## üîß Configuration

### üéõÔ∏è Model Selection

```python
from models.ocr_processor import OCRProcessor

# Fast inference (recommended)
ocr = OCRProcessor(model_name="microsoft/Florence-2-base")

# Maximum accuracy
ocr = OCRProcessor(model_name="microsoft/Florence-2-large")
```

### üé® UI Customization

Modify `ui/styles.py` to customize appearance:

```python
# Change color scheme
PRIMARY_COLOR = "#1f77b4"
SECONDARY_COLOR = "#ff7f0e"

# Update layout
INTERFACE_WIDTH = "100%"
```

### ‚öôÔ∏è Environment Variables

| Variable               | Description          | Default                |
| ---------------------- | -------------------- | ---------------------- |
| `SPACE_ID`             | HuggingFace Space ID | Auto-detected          |
| `DEPLOYMENT_STAGE`     | deployment stage     | `production`           |
| `TRANSFORMERS_CACHE`   | Model cache path     | `~/.cache/huggingface` |
| `CUDA_VISIBLE_DEVICES` | GPU selection        | All available          |

## üöÄ Deployment

### ü§ó HuggingFace Spaces (Recommended)

**Automatic Deployment:**

1. Fork this repository
2. Push to `main`/`master` branch
3. GitHub Actions automatically deploys to HuggingFace Spaces
4. Access your deployed app at: `https://huggingface.co/spaces/USERNAME/textlens-ocr`

**Manual Deployment:**

1. Go to [GitHub Actions](https://github.com/KumarAmrit30/textlens-ocr/actions)
2. Select "Deploy to HuggingFace Spaces"
3. Click "Run workflow"
4. Choose deployment type:
   - **Direct**: Quick deployment to production
   - **Blue-Green**: Zero downtime with staging validation

### üîÑ Zero Downtime Deployment

Our enterprise-grade deployment system ensures **zero downtime** for users:

**Features:**

- üîµ **Blue-Green Deployment**: Test in staging before production
- üè• **Health Monitoring**: Automatic health checks with retry logic
- üîÑ **Graceful Shutdown**: Clean application restarts
- üìä **Real-time Monitoring**: Deployment status tracking

**Health Endpoints:**

- `GET /health` - Application health status
- `GET /ready` - Application readiness check

**Deployment Flow:**

```mermaid
graph LR
    A[Code Push] --> B[Validate]
    B --> C[Deploy Staging]
    C --> D[Health Check]
    D --> E[Deploy Production]
    E --> F[Verify]
    F --> G[Complete ‚úÖ]
```

### üê≥ Docker Deployment

```dockerfile
FROM python:3.9-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
EXPOSE 7860

CMD ["python", "app.py"]
```

Build and run:

```bash
docker build -t textlens-ocr .
docker run -p 7860:7860 textlens-ocr
```

### ‚òÅÔ∏è Cloud Platforms

| Platform               | Status        | Guide                                                               |
| ---------------------- | ------------- | ------------------------------------------------------------------- |
| **HuggingFace Spaces** | ‚úÖ Ready      | [Deploy Now](https://huggingface.co/spaces/GoConqurer/textlens-ocr) |
| **Google Colab**       | ‚úÖ Compatible | Open in Colab                                                       |
| **AWS/GCP/Azure**      | üîß Docker     | Use Docker deployment                                               |
| **Heroku**             | ‚ö†Ô∏è Limited    | GPU not available                                                   |

## üß™ Testing & Development

### üîç Running Tests

```bash
# Basic functionality test
python -c "
from models.ocr_processor import OCRProcessor
ocr = OCRProcessor()
print(f'‚úÖ Model loaded: {ocr.get_model_info()}')
"

# Test with sample image
python -c "
from PIL import Image
from models.ocr_processor import OCRProcessor
import requests

# Download test image
img_url = 'https://via.placeholder.com/300x100/000000/FFFFFF?text=Hello+World'
image = Image.open(requests.get(img_url, stream=True).raw)

# Test OCR
ocr = OCRProcessor()
result = ocr.extract_text(image)
print(f'‚úÖ OCR Result: {result}')
"
```

### üõ†Ô∏è Development Tools

```bash
# Install development dependencies
pip install -r requirements.txt

# Format code
black . --line-length 88

# Type checking
mypy models/ utils/ ui/

# Lint code
flake8 --max-line-length 88
```

## üìö API Reference

### OCRProcessor Class

```python
from models.ocr_processor import OCRProcessor

# Initialize processor
ocr = OCRProcessor(
    model_name="microsoft/Florence-2-base",  # Model selection
    device=None,                             # Auto-detect device
    torch_dtype=None                         # Auto-select dtype
)

# Extract text from image
text = ocr.extract_text(image)
# Returns: str

# Extract text with bounding boxes
result = ocr.extract_text_with_regions(image)
# Returns: dict with text and regions

# Get model information
info = ocr.get_model_info()
# Returns: dict with model details

# Cleanup resources
ocr.cleanup()
```

### Health Check API

```bash
# Check application health
curl https://huggingface.co/spaces/GoConqurer/textlens-ocr/health

# Response:
{
  "status": "healthy",
  "timestamp": 1640995200,
  "version": "1.0.0",
  "environment": "production"
}

# Check readiness
curl https://huggingface.co/spaces/GoConqurer/textlens-ocr/ready

# Response:
{
  "status": "ready",
  "timestamp": 1640995200
}
```

## üö® Troubleshooting

### Common Issues

| Issue                   | Symptoms                 | Solution                                |
| ----------------------- | ------------------------ | --------------------------------------- |
| **Model Loading Error** | ImportError, CUDA errors | Check GPU drivers, install CUDA toolkit |
| **Memory Error**        | Out of memory            | Reduce batch size, use CPU inference    |
| **SSL Certificate**     | SSL errors on macOS      | Run certificate update command          |
| **Permission Error**    | File access denied       | Check file permissions, run as admin    |

### Debug Commands

```bash
# Check CUDA availability
python -c "import torch; print(f'CUDA: {torch.cuda.is_available()}')"

# Check transformers version
python -c "import transformers; print(f'Transformers: {transformers.__version__}')"

# Test health endpoint locally
curl http://localhost:7860/health

# View application logs
tail -f textlens.log
```

### Getting Help

1. üìã **Check existing issues**: [GitHub Issues](https://github.com/KumarAmrit30/textlens-ocr/issues)
2. üÜï **Create new issue**: Provide error details and environment info
3. üí¨ **Join discussion**: [GitHub Discussions](https://github.com/KumarAmrit30/textlens-ocr/discussions)
4. üìß **Contact**: Create an issue for direct support

## ü§ù Contributing

We welcome contributions! Here's how to get started:

### üîß Development Setup

1. **Fork & Clone**

   ```bash
   git clone https://github.com/YOUR_USERNAME/textlens-ocr.git
   cd textlens-ocr
   ```

2. **Create Branch**

   ```bash
   git checkout -b feature/your-feature-name
   ```

3. **Make Changes**

   - Add new features or fix bugs
   - Update tests and documentation
   - Follow code style guidelines

4. **Test Changes**

   ```bash
   python -m pytest tests/
   python -c "from models.ocr_processor import OCRProcessor; OCRProcessor()"
   ```

5. **Submit PR**
   ```bash
   git add .
   git commit -m "feat: add your feature description"
   git push origin feature/your-feature-name
   ```

### üìù Contribution Guidelines

- **Code Style**: Follow PEP 8, use Black formatter
- **Documentation**: Update README and docstrings
- **Tests**: Add tests for new functionality
- **Commits**: Use conventional commit messages
- **Issues**: Link PRs to relevant issues

## üìÑ License

This project is licensed under the **MIT License** - see the [LICENSE](LICENSE) file for details.

### üôè Third-Party Licenses

- **Microsoft Florence-2**: [MIT License](https://github.com/microsoft/Florence)
- **HuggingFace Transformers**: [Apache License 2.0](https://github.com/huggingface/transformers)
- **Gradio**: [Apache License 2.0](https://github.com/gradio-app/gradio)
- **EasyOCR**: [Apache License 2.0](https://github.com/JaidedAI/EasyOCR)

## üåü Acknowledgments

Special thanks to:

- **Microsoft Research** for the incredible Florence-2 vision-language model
- **HuggingFace** for the transformers library and Spaces platform
- **Gradio Team** for the amazing web interface framework
- **JaidedAI** for EasyOCR fallback capabilities
- **Open Source Community** for continuous support and contributions

## üìà Project Status

| Component         | Status        | Version |
| ----------------- | ------------- | ------- |
| **Core OCR**      | ‚úÖ Stable     | v1.0.0  |
| **Web UI**        | ‚úÖ Stable     | v1.0.0  |
| **Deployment**    | ‚úÖ Production | v1.0.0  |
| **API**           | ‚úÖ Stable     | v1.0.0  |
| **Documentation** | ‚úÖ Complete   | v1.0.0  |

### üéØ Roadmap

- [ ] **Multi-language UI** support
- [ ] **Batch processing** for multiple images
- [ ] **API rate limiting** and authentication
- [ ] **Custom model** fine-tuning support
- [ ] **Mobile app** development
- [ ] **Cloud storage** integration

## üìû Support & Community

### üîó Links

- **üè† Homepage**: [GitHub Repository](https://github.com/KumarAmrit30/textlens-ocr)
- **üöÄ Live Demo**: [HuggingFace Spaces](https://huggingface.co/spaces/GoConqurer/textlens-ocr)
- **üìã Issues**: [Report Bugs](https://github.com/KumarAmrit30/textlens-ocr/issues)
- **üí¨ Discussions**: [GitHub Discussions](https://github.com/KumarAmrit30/textlens-ocr/discussions)
- **üìñ Documentation**: [Deployment Guide](DEPLOYMENT.md)

### üìä Stats

![GitHub stars](https://img.shields.io/github/stars/KumarAmrit30/textlens-ocr?style=social)
![GitHub forks](https://img.shields.io/github/forks/KumarAmrit30/textlens-ocr?style=social)
![GitHub watchers](https://img.shields.io/github/watchers/KumarAmrit30/textlens-ocr?style=social)

---

<div align="center">

**Made with ‚ù§Ô∏è for the AI community**

[‚≠ê Star this repo](https://github.com/KumarAmrit30/textlens-ocr) ‚Ä¢ [üîó Try the demo](https://huggingface.co/spaces/GoConqurer/textlens-ocr) ‚Ä¢ [üìñ Read docs](DEPLOYMENT.md)

</div>
